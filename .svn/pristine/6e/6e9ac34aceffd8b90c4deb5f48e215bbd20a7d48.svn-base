<?php
/**
 * Created by PhpStorm.
 * User: albert
 * Date: 09.03.15
 * Time: 22:56
 */

namespace common\models\Wall;


use common\models\Event;
use common\models\User;
use common\models\Wall;

class SubscribeEvent extends DataContainer{
    const STATUS_UNSUBSCRIBE=0;
    const STATUS_SUBSCRIBE=1;
    public $status;
    public $eventId;
    public $userId;

    public function __construct($config = [])
    {
        parent::__construct($config); // TODO: Change the autogenerated stub
    }

    public function rules()
    {
        return [
            [['eventId','userId'],'required']
        ];
    }

    public function getModel()
    {
        $event = \Yii::$app->db->cache(function () {
            return Event::findOne($this->eventId);
        }, 60);
        $user  = \Yii::$app->db->cache(function () {
            return User::findOne($this->userId);
        }, 60);
        return [
            'event' => $event,
            'user'  => $user,
        ];
    }



}